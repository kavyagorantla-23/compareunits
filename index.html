<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Store Locator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <style type="text/css">
      body::-webkit-scrollbar {
         display: none;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary" style="border: 1px solid black;">
      <div class="container-fluid">
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;
        <a class="navbar-brand" href=""><img src="{{ url_for('static', filename='/images/logo.png') }}" height="60"></a>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="/">Home</a>
            </li>
              {% if(user.is_authenticated) %}
            <li class="nav-item">
              <a class="nav-link" href="/bookings/">Booking History</a>
            </li>
             <li class="nav-item">
              <a class="nav-link" href="/myfavourites/">My Favourites</a>
            </li><li class="nav-item">
              <a class="nav-link" href="/compare_units/">Compare Units</a>
            </li>

              {% else %}
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('auth.sign_up') }}">Register</a>
            </li>
              <li class="nav-item">
              <a class="nav-link" href="{{ url_for('auth.login') }}">Login</a>
            </li>
              {% endif %}
              &nbsp;&nbsp;&nbsp;&nbsp;
            <li class="nav-item">
              <form class="d-flex" role="search">
              <input class="form-control me-2" onkeypress="filter()"  onkeydown="filter()"  onkeyup="filter()" type="search" id="search_box" placeholder="Search" aria-label="Search" size="35">
              <button class="btn btn-outline-success" type="button" onclick="filter()"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
          <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
        </svg></button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </form>
            </li>
                {% if(user.is_authenticated) %}
                    <li class="nav-item dropdown">
                      <a class="nav-link dropdown-toggle" href="" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Profile
                      </a>
                      <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" href="{{ url_for('app.profile') }}">Manage Profile</a></li>
                      </ul>
                    </li>

            <li class="nav-item"><a class="nav-link" href="{{ url_for('auth.logout') }}">Logout <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-right" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"/>
  <path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"/>
</svg></a></li>
              {% endif %}

            <!-- <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                Dropdown link
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">Action</a></li>
                <li><a class="dropdown-item" href="#">Another action</a></li>
                <li><a class="dropdown-item" href="#">Something else here</a></li>
              </ul>
            </li> -->
          </ul>
        </div>

      </div>
    </nav>
<div class="container">&nbsp;</div>
         <div class="container-fluid">
           <div class="container">
             <div class="row" style="padding: 40px;">
               <h4 align="center">COMPARE UNITS</h4>
                 <hr style="border: 1px solid black; width: 100%;">
             </div>
           </div>
           <div class="container">
               <div class="row">
                   <b><p align="center" style="font-size: 15px;">Select Units to compare</p></b>
               </div>
               <div class="row">
                   <div class="col-2"></div>
                   <div class="col-4">
                       <select class="form-control" id="unit1" onchange="compare()">
                           {% for unit in units %}
                                <option value="{{ unit.id }}">{{ unit.id }} - {{ unit.company }}</option>
                           {% endfor %}
                       </select>
                   </div>
                   <div class="col-4">
                       <select class="form-control" id="unit2" onchange="compare()">
                           {% for unit in units %}
                                <option value="{{ unit.id }}">{{ unit.id }} - {{ unit.company }}</option>
                           {% endfor %}
                       </select>
                   </div>
                   <div class="col-2"></div>
               </div>
           </div>
           <br/>
           <div class="container">
               <div class="row">
                   <div class="col-1"></div>
                   <div class="col-10">
                       <table class="table table-bordered">
                           <tr>
                               <td></td>
                               <td align="center" style="padding-top: 50px; padding-bottom: 50px;"><img id="i1" src="{{ units[0].url }}" height="200px;" width="300px;"/></td>
                               <td align="center" style="padding-top: 50px; padding-bottom: 50px;"><img id="i2" src="{{ units[0].url }}" height="200px;" width="300px;"/></td>
                           </tr>
                           <tr>
                               <th>Store Name</th>
                               <td id="u1c">{{ units[0].company }}</td>
                               <td id="u2c">{{ units[0].company }}</td>
                           </tr>
                           <tr>
                               <th>Price</th>
                               <td id="u1p">{{ units[0].price }}</td>
                               <td id="u2p">{{ units[0].price }}</td>
                           </tr>
                           <tr>
                               <th>Size</th>
                               <td id="u1s">{{ units[0].size }}</td>
                               <td id="u2s">{{ units[0].size }}</td>
                           </tr>
                           <tr>
                               <th>Ratings</th>
                               <td id="u1r">{{ runits[units[0]] }}</td>
                               <td id="u2r">{{ runits[units[0]] }}</td>
                           </tr>
                           <tr>
                               <th>Location</th>
                               <td>
                                   <iframe id="u1l" src="{{ units[0].location }}" width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                               </td>
                               <td>
                                   <iframe id="u2l" src="{{ units[0].location }}" width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                               </td>
                           </tr>
                           <tr>
                               <th>Postal Code</th>
                               <td id="u1pc">{{ units[0].postal_code }}</td>
                               <td id="u2pc">{{ units[0].postal_code }}</td>
                           </tr>
                       </table>
                   </div>
                   <div class="col-1"></div>
               </div>
           </div>
         </div>
    <div class="container">
&nbsp;
  </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script type="text/javascript">

    function compare() {
       /*var e = document.getElementById("unit1");
       var ev = e.options[e.selectedIndex].value;
       var e1 = document.getElementById("unit2");
       var ev1 = e.options[e.selectedIndex].value;*/
      $.post({
        url: "/compare/",
        contentType: "application/json",
        data: JSON.stringify({ uid1: $("#unit1").val(), uid2 : $("#unit2").val() }),
        success: function(response) {
          console.log("Success:", response);
          document.getElementById("u1c").innerHTML = response.data[0]["company"];
          document.getElementById("u2c").innerHTML = response.data[1]["company"];
          document.getElementById("u1p").innerHTML = response.data[0]["price"];
          document.getElementById("u2p").innerHTML = response.data[1]["price"];
          document.getElementById("u1s").innerHTML = response.data[0]["size"];
          document.getElementById("u2s").innerHTML = response.data[1]["size"];
          document.getElementById("u1r").innerHTML = response.data[0]["ratings"];
          document.getElementById("u2r").innerHTML = response.data[1]["ratings"];
          document.getElementById("u1l").src = response.data[0]["location"];
          document.getElementById("u2l").src = response.data[1]["location"];
          document.getElementById("u1pc").innerHTML = response.data[0]["postal_code"];
          document.getElementById("u2pc").innerHTML = response.data[1]["postal_code"];
          document.getElementById("i1").src = response.data[0]["url"];
          document.getElementById("i2").src = response.data[1]["url"];
        },
        error: function(xhr, status, error) {
          console.error("Error:", error);
        }
      });
    }

    </script>
  <footer class="site-footer custom-border-top" style="background-color: #346186;">
      <div class="container">
        <div class="row" style="padding: 30px;">
          <hr style="color: white;">
          <div class="col-md-6 col-lg-3 mb-4 mb-lg-0" style="color: black;">
              <div class="col-md-12">
                <h5 class="footer-heading mb-4">Company</h5>
              </div>
            <a href="#" class="block-6">
              <img src="{{ url_for('static', filename='/images/logo.png') }}" alt="Image placeholder" class="img-fluid rounded mb-4" height="150">
            </a>
          </div>
          <div class="col-lg-5 ml-auto mb-5 mb-lg-0" style="color: black;">
            <div class="row">
              <div class="col-md-12">
                <h5 class="footer-heading mb-4">Quick Links</h5>
              </div>
              <div class="col-md-6 col-lg-4" style="color: white;">
                <ul class="list-unstyled">
                  <li><a href="#" style="color: white;">Sell online</a></li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-4" style="color: white;">
                <ul class="list-unstyled">
                  <li><a href="#" style="color: white;">Sell online</a></li>
                </ul>
              </div>
              <div class="col-md-6 col-lg-4" style="color: white;">
                <ul class="list-unstyled">
                  <li><a href="#" style="color: white;">Sell online</a></li>
                </ul>
              </div>
            </div>
          </div>

          <div class="col-md-6 col-lg-3">
            <div class="block-5 mb-5" style="color: white;">
              <h5 class="footer-heading mb-4" style="color: black;">Contact Info</h5>
              <ul class="list-unstyled">
                <li class="address">203 Fake St. Mountain View, San Francisco, California, USA</li>
                <li class="phone"><a href="tel://23923929210">+2 392 3929 210</a></li>
                <li class="email">emailaddress@domain.com</li>
              </ul>
            </div>
          </div>
        </div>
          <hr style="color: white;">
        <div class="row text-center" style="color: white; padding-bottom: 10px;">
          <div class="col-md-12">
            <small>Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved by <a href="https://colorlib.com" target="_blank" class="text-primary">Smart Storage</a>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            </small>
          </div>
        </div>
      </div>
    </footer>
  </body>
</html>
